/* =========================================================
   CASTRO • JOIN.CSS (based on order.css, stable + premium)
   - НЕ міняє HTML/структуру
   - фон як в order.css: html::before/after (без плитки/бліків)
   - topbar як в order.css
   - cards/sections/inputs/btn в одному стилі
   - Discord профіль: справа fixed (як було)
   ========================================================= */

/* ============ TOKENS (order.css base) ============ */
:root{
  --bg0:#07070b;
  --bg1:#0b0b10;

  --text:#f3f3f6;
  --muted:rgba(243,243,246,.72);

  --red:#e0182d;

  --glass: rgba(255,255,255,.055);
  --glass2: rgba(255,255,255,.030);
  --stroke: rgba(255,255,255,.12);

  --shadow1: 0 18px 70px rgba(0,0,0,.55);
  --shadow2: 0 10px 30px rgba(0,0,0,.35);

  --r: 22px;
  --max: 1220px;

  /* join-specific */
  --aside: 420px;
  --gap: 14px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

/* ===== STABLE BACKGROUND (like order.css) ===== */
html{ background:#050507; }
html::before{
  content:"";
  position: fixed;
  inset:0;
  pointer-events:none;
  z-index:-2;

  background:
    radial-gradient(1400px 900px at 12% 10%, rgba(224,24,45,.20), transparent 62%),
    radial-gradient(1200px 800px at 86% 26%, rgba(224,24,45,.12), transparent 65%),
    linear-gradient(180deg, #0b0b10, #050507);

  transform: translateZ(0);
}
html::after{
  content:"";
  position: fixed;
  inset:0;
  pointer-events:none;
  z-index:-1;

  background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.035), transparent 55%);
  opacity:.35;
  transform: translateZ(0);
}

body{
  margin:0;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  color: var(--text);
  background: transparent;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  min-height:100vh;
  overflow-x:hidden;
  position: relative;
  isolation: isolate;
}

a{ color:inherit; text-decoration:none; }
img{ max-width:100%; display:block; }

.muted{ color: var(--muted); }
.small{ font-size:.88rem; }

select option{ background:#0b0b10; color: var(--text); }

/* ============ CONTAINER / WRAP ============ */
.container,
.wrap{
  width: min(var(--max), 94vw);
  margin: 0 auto;
}

/* ============ TOPBAR (order.css style) ============ */
header.topbar,
.topbar{
  width: min(var(--max), 94vw);
  margin: 18px auto 14px;
  padding: 10px 14px;

  display:grid;
  grid-template-columns: auto 1fr auto;
  align-items:center;
  gap:12px;

  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 18px 70px rgba(0,0,0,.35);

  transform: translateZ(0);
  position: relative;
  z-index: 5;
}

.topbar__title{
  text-align:center;
  font-weight: 1000;
  letter-spacing: .2px;
  color: rgba(255,255,255,.92);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.topbar__meta{
  display:flex;
  gap: 8px;
  align-items:center;
  flex-wrap: wrap;
  justify-content:flex-end;
  max-width: 520px;
}

.back{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:999px;
  font-weight:900;
  font-size:.88rem;
  color:rgba(255,255,255,.92);

  background: rgba(0,0,0,.28);
  border:1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  transition: .18s;
}
.back:hover{ transform: translateY(-1px); background: rgba(255,255,255,.08); }

.chip{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:7px 10px;
  border-radius:999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.85);
  font-weight: 900;
  font-size: .82rem;
  transition:.18s;
}
a.chip:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }

@media (max-width: 900px){
  header.topbar,
  .topbar{
    grid-template-columns: 1fr;
    gap:10px;
    border-radius: 18px;
  }
  .topbar__title{ text-align:left; }
  .topbar__meta{ justify-content:flex-start; max-width:none; }
}

/* ============ JOIN GRID (same idea as orderGrid) ============ */
.grid{
  display:grid;
  grid-template-columns: minmax(0, 1fr) var(--aside);
  gap: var(--gap);
  margin-top: 16px;
  padding-bottom: 16px;
  align-items:start;
}
@media (max-width: 980px){
  .grid{ grid-template-columns: 1fr; }
}

/* ============ CARDS (order.css card) ============ */
.card{
  background: linear-gradient(180deg, var(--glass), var(--glass2));
  border: 1px solid var(--stroke);
  border-radius: var(--r);
  box-shadow: var(--shadow2);
  overflow:hidden;

  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
  transform: translateZ(0);
}
.card:hover{
  transform: translateY(-2px) translateZ(0);
  border-color: rgba(255,255,255,.18);
  box-shadow: 0 22px 70px rgba(0,0,0,.55);
}

/* main/side */
.mainCard{}
.sideCard{
  position: sticky;
  top: 22px;
}
@media (max-width: 980px){
  .sideCard{ position: static; top:auto; }
}

/* ============ MAIN HEADER (head/body pattern) ============ */
.mainCard .head{
  padding: 18px 18px 16px;
  border-bottom: 1px solid rgba(255,255,255,.08);
  text-align:center;

  background:
    radial-gradient(900px 360px at 18% -140px, rgba(224,24,45,.20), transparent 70%);
}
.brandText{ max-width: 860px; margin: 0 auto; }

.title{
  margin: 6px 0 6px;
  font-weight: 1000;
  letter-spacing: .2px;
  line-height: 1.12;
  font-size: clamp(28px, 2.4vw, 40px);
}
.sub{
  margin: 0 auto;
  max-width: 760px;
  color: rgba(243,243,246,.78);
  line-height:1.5;
  font-weight: 700;
  font-size: .95rem;
}

.pillbar,
.cats{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  margin-top: 12px;
}
.pillbar .pill,
.cats .chip{
  user-select:none;
  cursor:default;
  padding:10px 12px;
  font-size:.86rem;
}
.cats .chip{ cursor:pointer; }
.cats .chip:hover{ transform: translateY(-1px); }
.cats .chip.active{
  border-color: rgba(224,24,45,.55);
  background: rgba(224,24,45,.12);
  box-shadow: 0 10px 28px rgba(224,24,45,.10);
}

.mainCard .body{ padding: 16px 16px 18px; }

/* ============ SECTIONS (like obox + card inset) ============ */
.section{
  padding: 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.12);
  margin-top: 14px;
}
.section h3{
  margin: 0 0 10px;
  font-weight: 1000;
  letter-spacing: .2px;
  display:flex;
  align-items:center;
  gap:10px;
}
.dot{
  width:10px;height:10px;border-radius:50%;
  background: var(--red);
  box-shadow: 0 0 0 5px rgba(224,24,45,.12);
}

/* ============ FORM GRID ============ */
.row{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
@media (max-width: 620px){
  .row{ grid-template-columns: 1fr; }
}

.field{ min-width:0; }
label{ display:block; font-weight:900; margin:0 0 6px; }

.inp, select, textarea,
input, textarea{
  width:100%;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
  color:var(--text);
  outline:none;
  font-weight:700;
}

.inp:focus-visible, select:focus-visible, textarea:focus-visible,
input:focus-visible, textarea:focus-visible{
  border-color: rgba(224,24,45,.50);
  box-shadow: 0 0 0 3px rgba(224,24,45,.12);
}

textarea{ min-height:90px; resize:vertical; }

.hint{
  margin:6px 0 0;
  font-size:.85rem;
  color:rgba(243,243,246,.62);
  font-weight:700;
}

/* ============ PHOTO BLOCK (mapped to your existing classes) ============ */
.photoRow{
  display:grid;
  grid-template-columns: 380px minmax(0,1fr);
  gap: 14px;
  align-items: start;
  margin-top: 12px;
}
@media (max-width: 980px){
  .photoRow{ grid-template-columns: 1fr; }
}

.photo.photo--head{ background:transparent; border:0; box-shadow:none; padding:0; }

.photo__frame{
  min-height: 220px;
  border-radius: 18px;
  border:1px dashed rgba(255,255,255,.14);
  background: rgba(0,0,0,.12);
  display:grid;
  place-items:center;
  overflow:hidden;
  transition:.18s;
}
.photo__frame:hover{
  transform: translateY(-2px);
  border-color: rgba(224,24,45,.35);
  background: rgba(255,255,255,.04);
}

.photo__img{ width:100%; height:100%; object-fit:cover; display:none; }

.photo__placeholder{
  text-align:center;
  color: rgba(243,243,246,.80);
  font-weight: 900;
  display:grid;
  gap:6px;
}
.photo__icon{ font-size: 22px; opacity:.9; }
.photo__title{ font-weight: 1000; }
.photo__sub{ font-weight: 800; opacity:.7; font-size:.85rem; }

.photo__btn, .photo__remove,
.photoRemove, .photo__removeBtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding: 10px 12px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.08);
  color: var(--text);
  font-weight: 1000;
  cursor:pointer;
  transition:.18s;
}
.photo__btn:hover, .photo__remove:hover,
.photoRemove:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.12);
}

.photoInfo{
  padding: 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.12);
}
.photoInfo h3{ margin:0 0 10px; font-weight:1000; }
.photoInfo__list{ margin: 0; padding-left: 18px; color: rgba(243,243,246,.78); }
.photoInfo__list li{ margin: 6px 0; }
.photoInfo__note,
.note{
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 16px;
  border:1px solid rgba(224,24,45,.35);
  background: rgba(224,24,45,.10);
  font-weight: 1000;
}

/* ============ AGREE / ACTIONS / OK ============ */
.agree, .actions{
  padding: 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.12);
  margin-top: 14px;
}

.actions{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
}
@media (max-width: 560px){
  .actions{ flex-direction:column; align-items:stretch; }
}

.btn{
  cursor:pointer;
  width:auto;
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.08);
  color:var(--text);
  font-weight:1000;
  transition:.18s;
}
.btn:hover{ transform:translateY(-2px); }
.btn.primary, .btn--primary{
  background:
    radial-gradient(120% 140% at 20% 10%, rgba(255,80,95,.35), transparent 55%),
    linear-gradient(180deg, rgba(224,24,45,.95), rgba(160,12,28,.95));
  box-shadow: 0 10px 28px rgba(224,24,45,.25);
}
.btn.primary:hover, .btn--primary:hover{ box-shadow: 0 14px 36px rgba(224,24,45,.32); }
.btn:disabled{ opacity:.55; cursor:not-allowed; transform:none; }

.status{
  font-weight:900;
  color:rgba(243,243,246,.85);
  white-space:pre-wrap;
}

/* success block */
.ok{
  display:none;
  margin-top: 12px;
  padding: 14px;
  border-radius: 18px;
  border: 1px solid rgba(55,255,167,.20);
  background: rgba(55,255,167,.08);
}
.ok h4{ margin:0 0 6px; font-weight:1000; }
.ok p{ margin:0; color: rgba(243,243,246,.78); }

/* ============ SIDEBAR CONTENT ============ */
.mini h3{ margin:0 0 10px; font-weight:1000; }
.list{ margin: 10px 0 0; padding-left: 18px; color: rgba(243,243,246,.78); line-height:1.55; font-weight:700; }
.rule{
  margin-top: 10px;
  padding: 12px;
  border-radius: 18px;
  border:1px solid rgba(224,24,45,.35);
  background: rgba(224,24,45,.10);
  font-weight: 1000;
}
.tag{
  display:inline-flex;
  margin-top: 12px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.06);
  font-weight: 1000;
  font-size: .86rem;
}

/* ============ FOOTER ============ */
.footer{
  margin-top: 12px;
  padding-top: 14px;
  border-top: 1px solid rgba(255,255,255,.08);
  color: rgba(245,245,250,.68);
  text-align:center;
}

/* ============ CASTRO INLINE LOGO ============ */
.castro--logo{
  display:inline-flex;
  align-items:center;
  gap:6px;
}
.castroLogo{
  width:20px; height:20px;
  object-fit:contain;
  border-radius:6px;
  transform: translateY(1px);
}
.castro--logo:hover .castroLogo{
  transform: translateY(1px) scale(1.08);
}
.castro{
  color: var(--red);
  font-weight: 1000;
  letter-spacing: .4px;
}

/* ============ DISCORD PROFILE — fixed right (as you asked) ============ */
#auth-box,
.authDock{
  position: fixed !important;
  top: 14px !important;
  right: 14px !important;
  left: auto !important;
  bottom: auto !important;

  z-index: 99999 !important;
  display:flex !important;
  align-items:center !important;
  gap:10px !important;

  margin:0 !important;
}

#auth-user,
.auth__user,
.authChip{
  display:inline-flex !important;
  align-items:center !important;
  gap:10px !important;

  padding: 10px 12px !important;
  border-radius: 999px !important;

  /* лишаємо як у order: glass + blur, але стабільно */
  background: rgba(0,0,0,.35) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;

  color: rgba(243,243,246,.92) !important;
  font-weight: 900 !important;
  line-height: 1 !important;

  box-shadow: 0 18px 70px rgba(0,0,0,.35) !important;
  transform: translateZ(0) !important;
  transition: .18s !important;
}
#auth-user:hover,
.auth__user:hover,
.authChip:hover{
  transform: translateY(-1px) translateZ(0) !important;
  background: rgba(255,255,255,.10) !important;
}

#auth-avatar,
.auth__avatar,
.authAva{
  width: 26px !important;
  height: 26px !important;
  border-radius: 50% !important;
  object-fit: cover !important;
}

/* ============ REDUCED MOTION ============ */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; }
}
