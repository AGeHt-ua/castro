/* Discord Auth widget (top-right) */
.authDock{
  position: fixed;
  top: 14px;
  right: 14px;
  z-index: 9999;
  display: flex;
  align-items: center;
  gap: 10px;
}

.authChip{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: rgba(243,243,246,.92);
  text-decoration:none;
  font-weight: 900;
  line-height: 1;
  box-shadow: 0 18px 70px rgba(0,0,0,.35);
}
.authChip:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }

.authAva{
  width: 26px;
  height: 26px;
  border-radius: 50%;
  object-fit: cover;
  border: 1px solid rgba(255,255,255,.18);
}

.authName{ max-width: 180px; overflow:hidden; text-overflow: ellipsis; white-space: nowrap; }

.authBtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(224,24,45,.35);
  background: rgba(224,24,45,.14);
  color: rgba(243,243,246,.95);
  text-decoration:none;
  font-weight: 900;
  line-height: 1;
}
.authBtn:hover{ transform: translateY(-1px); background: rgba(224,24,45,.22); }

/* on small screens keep it neat */
@media (max-width: 520px){
  .authDock{ top: 10px; right: 10px; }
  .authName{ display:none; }
}

/* Discord Auth widget (top-right) */
.auth {
  position: fixed;
  top: 16px;
  right: 16px;
  z-index: 9999;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 16px;

  background: rgba(10,10,14,.65);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 18px 60px rgba(0,0,0,.45);
  backdrop-filter: blur(10px);
}

.auth__btn{
  display:inline-flex;
  align-items:center;
  gap:10px;
  cursor:pointer;

  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);

  color: rgba(243,243,246,.95);
  font-weight: 900;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  transition: .2s;
}
.auth__btn:hover{
  transform: translateY(-2px);
  background: rgba(255,255,255,.10);
}

.auth__discord{
  width: 18px;
  height: 18px;
  display:block;
  opacity: .95;
}

.auth__user{
  display:flex;
  align-items:center;
  gap:10px;
  padding: 6px 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.05);
  color: rgba(243,243,246,.95);
  font-weight: 900;
  max-width: 260px;
}

.auth__avatar{
  width: 28px;
  height: 28px;
  border-radius: 50%;
  object-fit: cover;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.08);
}

.auth__name{
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.auth__logout{
  cursor:pointer;
  margin-left: 6px;
  border: 0;
  background: transparent;
  color: rgba(243,243,246,.85);
  font-size: 18px;
  line-height: 1;
  padding: 4px 6px;
  border-radius: 10px;
  transition: .2s;
}
.auth__logout:hover{
  background: rgba(255,255,255,.08);
}

.hidden{ display:none !important; }

@media (max-width: 520px){
  .auth{ top: 10px; right: 10px; padding: 8px 10px; }
  .auth__btn{ padding: 8px 10px; font-size: .92rem; }
  .auth__user{ max-width: 200px; }
}

/* ===== Profile modal ===== */
.pmodal{ position:fixed; inset:0; z-index:9999; display:flex; align-items:center; justify-content:center; }
.pmodal.hidden{ display:none; }
.pmodal__backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter: blur(8px); }
.pmodal__card{
  position:relative; width:min(520px, calc(100% - 28px));
  background: rgba(20,20,26,.92);
  border:1px solid rgba(255,255,255,.12);
  border-radius:18px;
  box-shadow: 0 30px 120px rgba(0,0,0,.65);
  overflow:hidden;
}
.pmodal__head{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid rgba(255,255,255,.10); }
.pmodal__head h2{ margin:0; font-size:1.05rem; }
.pmodal__x{ background:transparent; border:0; color:rgba(255,255,255,.85); font-size:1.1rem; cursor:pointer; }
.pmodal__body{ padding:14px 16px; display:grid; gap:10px; }
.pmodal__label{ font-weight:800; font-size:.9rem; color:rgba(255,255,255,.85); }
.pmodal__input{
  width:100%; padding:10px 12px; border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color:#fff; outline:none;
}
.pmodal__input:focus{ border-color: rgba(224,24,45,.55); box-shadow:0 0 0 3px rgba(224,24,45,.18); }
.pmodal__hint{ margin:0; color:rgba(255,255,255,.65); font-size:.85rem; }
.pmodal__actions{ padding:14px 16px; display:flex; gap:10px; justify-content:flex-end; border-top:1px solid rgba(255,255,255,.10); }
.pmodal__btn{
  padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.14);
  background: rgba(224,24,45,.18); color:#fff; font-weight:900; cursor:pointer;
}
.pmodal__btn--ghost{ background: rgba(255,255,255,.06); }
.pmodal__btn:hover{ transform: translateY(-1px); }

.is-locked{
  opacity: .85;
  cursor: not-allowed;
}
.is-locked:focus{
  outline: none;
}
/* =========================================================
   FAMILY CASTRO — AUTH BUTTON STYLE PATCH (override)
   Додай в кінець файлу. Не ламає існуючу верстку.
========================================================= */

.auth{
  border-radius: 18px;
  box-shadow:
    0 18px 60px rgba(0,0,0,.45),
    0 0 0 1px rgba(255,255,255,.06) inset;
}

/* Кнопка входу */
.auth__btn{
  position: relative;
  overflow: hidden;

  border-radius: 16px;
  border: 1px solid rgba(224,24,45,.38);

  background:
    radial-gradient(120px 60px at 30% 20%, rgba(224,24,45,.22), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));

  box-shadow:
    0 14px 45px rgba(0,0,0,.35),
    0 0 26px rgba(224,24,45,.12);

  letter-spacing: .2px;
  transform: translateZ(0);
}

/* Glow + lift */
.auth__btn:hover{
  transform: translateY(-2px);
  border-color: rgba(224,24,45,.58);
  box-shadow:
    0 18px 55px rgba(0,0,0,.42),
    0 0 34px rgba(224,24,45,.22);
}

/* Shine sweep */
.auth__btn::before{
  content:"";
  position:absolute;
  inset:-2px;
  background: linear-gradient(
    110deg,
    transparent 0%,
    rgba(255,255,255,.14) 35%,
    rgba(224,24,45,.14) 50%,
    transparent 70%
  );
  transform: translateX(-120%);
  transition: transform .6s ease;
  pointer-events:none;
}

.auth__btn:hover::before{
  transform: translateX(120%);
}

/* Subtle embers dots */
.auth__btn::after{
  content:"";
  position:absolute;
  inset:0;
  background-image:
    radial-gradient(circle at 20% 30%, rgba(224,24,45,.22) 0 1px, transparent 2px),
    radial-gradient(circle at 70% 40%, rgba(255,255,255,.18) 0 1px, transparent 2px),
    radial-gradient(circle at 40% 75%, rgba(224,24,45,.18) 0 1px, transparent 2px);
  opacity:.35;
  mix-blend-mode: screen;
  pointer-events:none;
}

/* Click */
.auth__btn:active{
  transform: translateY(-1px) scale(.99);
}

/* Focus (keyboard) */
.auth__btn:focus-visible{
  outline: none;
  box-shadow:
    0 18px 55px rgba(0,0,0,.42),
    0 0 0 3px rgba(224,24,45,.22),
    0 0 0 1px rgba(224,24,45,.55) inset;
}

/* Discord icon */
.auth__discord{
  filter: drop-shadow(0 0 10px rgba(224,24,45,.22));
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .auth__btn,
  .auth__btn::before{
    transition: none !important;
  }
}

/* =========================================================
   AUTH NUDGE (spotlight onboarding)
========================================================= */
.nudge{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: none;
}

.nudge.is-open{ display:block; }

.nudge__backdrop{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.65);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
}

/* "прожектор" на auth кнопку (координати підставить JS через CSS variables) */
.nudge.is-open .nudge__backdrop{
  --x: 50px;
  --y: 50px;
  --r: 90px;

  background:
    radial-gradient(circle var(--r) at var(--x) var(--y),
      rgba(0,0,0,0) 0%,
      rgba(0,0,0,0) 55%,
      rgba(0,0,0,.78) 75%,
      rgba(0,0,0,.92) 100%
    ),
    rgba(0,0,0,.62);
}

/* =========================================================
   AUTH TIP (slide-in arrow)
========================================================= */
.authtip{
  position: fixed;
  z-index: 9998;
  display: none;
  pointer-events: none; /* щоб не блокував сайт */
}

.authtip.is-open{
  display: block;
}

.authtip__bubble{
  pointer-events: auto;
  width: min(320px, calc(100vw - 24px));
  padding: 14px 14px 12px;
  border-radius: 16px;

  background:
    radial-gradient(180px 120px at 30% 20%, rgba(224,24,45,.22), transparent 60%),
    rgba(12,12,16,.78);

  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 20px 70px rgba(0,0,0,.55);

  transform: translateX(16px);
  opacity: 0;
  transition: transform .45s ease, opacity .45s ease;
}

/* show bubble when tip is open */
.authtip.is-open .authtip__bubble{
  transform: translateX(0);
  opacity: 1;
}

}

.authtip__title{
  font-weight: 900;
  font-size: .98rem;
  margin-bottom: 6px;
}

.authtip__text{
  color: rgba(243,243,246,.86);
  line-height: 1.3;
  font-size: .92rem;
}

.authtip__mono{
  display:block;
  margin-top: 8px;
  padding: 6px 10px;
  border-radius: 12px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  font-weight: 900;
}

.authtip__actions{
  display:flex;
  gap: 10px;
  margin-top: 12px;
  justify-content:flex-end;
}

.authtip__btn{
  pointer-events: auto;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: #f3f3f6;
  font-weight: 900;
  border-radius: 14px;
  padding: 9px 12px;
  cursor:pointer;
  transition: .2s;
}

.authtip__btn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.09);
}

.authtip__btn--primary{
  border-color: rgba(224,24,45,.45);
  background:
    radial-gradient(120px 60px at 30% 20%, rgba(224,24,45,.25), transparent 60%),
    rgba(224,24,45,.16);
  box-shadow: 0 0 22px rgba(224,24,45,.18);
}

@keyframes chevron{
  0%{ opacity: .15; transform: translateX(0) rotate(-45deg); }
  50%{ opacity: 1; transform: translateX(10px) rotate(-45deg); }
  100%{ opacity: .15; transform: translateX(0) rotate(-45deg); }
}

/* Легкий пульс самої кнопки авторизації */
.authtip.is-open .auth__btn{
  animation: authHintPulse 1.2s ease-in-out infinite;
}
@keyframes authHintPulse{
  0%,100%{ box-shadow: 0 14px 45px rgba(0,0,0,.35), 0 0 26px rgba(224,24,45,.12); }
  50%{ box-shadow: 0 18px 55px rgba(0,0,0,.45), 0 0 46px rgba(224,24,45,.25); }
}

@media (prefers-reduced-motion: reduce){
  .authtip__bubble, .authtip__arrow span, .authtip.is-open .auth__btn{
    animation: none !important;
  }
}

/* FIX: Reduced motion should still SHOW the bubble (no animations, but visible) */
@media (prefers-reduced-motion: reduce){
  .authtip__bubble{
    transition: none !important;
  }
  .authtip.is-open .authtip__bubble{
    opacity: 1 !important;
    transform: none !important;
  }
}
